<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PokeShop</title>
  <link rel="stylesheet" href="index.css" />
  <link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"> 
  <script>
    window.addEventListener('load', async ()=>{
      let div = document.getElementsByClassName('container-cards')[0]
      let categorias 
      let dados = await fetch('http://127.0.0.1:5000/categorias')
                .then(response => {
                  if (!response.ok) {
                    throw new Error(response.status);
                  }
                  return response.json();
                }).then(data => {
                  categorias = data
      })
      categorias.map((categoria)=>{
        console.log(1)
        div.innerHTML += `
        <a href="./pages/cardsCategoria.html?categoria=${categoria.nome}">
        <div class="card">
          <h2>Cartas tipo ${categoria.nome}</h2>
          <img src="${categoria.url_imagem}"/>
        </div>
        </a>
      `
      })
    })
  </script>
</head>
<body>
  <nav class="navbar">
        <div class="logo">
            <img src="./assets/pokelogo.png" alt="Logo PokeShop" />
        </div>
        <div class="nav-item">
            <div class="nav-sessao">
                <a href="./pages/cart.html" title="Carrinho">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span>Carrinho</span>
                </a>
            </div>
            <div class="nav-sessao">
                <a href="./auth/signIn.html">Entrar</a>
            </div>
            <div class="nav-sessao">
                <a href="./auth/signUp.html">Criar conta</a>
            </div>
        </div>
    </nav>

  <section class="sessao">
    <h1 class="sessao-titulo">1. Categorias e Cartas Disponíveis</h1>
    <div class="container-cards">
      <!-- <a href="./cardsEnergia/cardsEstadio.html">
        <div class="card">
          <h2>Cartas tipo Estádio</h2>
          <img src="https://assets.pokemon.com/static-assets/content-assets/cms2-pt-br/img/cards/web/SWSH11/SWSH11_PT-BR_171.png"/>
        </div>
      </a>
      <a href="./cardsPokemon/cardsPokemon.html">
        <div class="card">
          <h2>Cartas tipo Pokémon</h2>
          <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/destined-rivals/pt-br/SV10_PTBR_104-2x.png"/>
        </div>
      </a>
      <a href="./cardsApoiador/cardsApoiador.html">
        <div class="card">
          <h2>Cartas tipo Apoiador</h2>
          <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/destined-rivals/pt-br/SV10_PTBR_170-2x.png"/>
        </div>
      </a>
      <a href="./cardsItem/cardsItem.html">
        <div class="card">
          <h2>Cartas tipo Item</h2>
          <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/destined-rivals/pt-br/SV10_PTBR_179-2x.png"/>
        </div>
      </a> -->
    </div>
  </section>

  <section class="sessao">
    <h1 class="sessao-titulo">2. Top 5 Cartas Mais Vendidas</h1>
    <p style="color: red; margin: 5px;">Produtos esgotados, apenas exibição!</p>
    <div class="container-cards">
      <div class="card-poke">
        <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/prismatic-evolutions/pt-br/SV8pt5_PTBR_6-2x.png"/>
      </div>
      <div class="card-poke">
        <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/prismatic-evolutions/pt-br/SV8pt5_PTBR_14-2x.png"/>
      </div>
      <div class="card-poke">
        <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/prismatic-evolutions/pt-br/SV8pt5_PTBR_23-2x.png"/>
      </div>
      <div class="card-poke">
        <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/prismatic-evolutions/pt-br/SV8pt5_PTBR_26-2x.png"/>
      </div>
      <div class="card-poke">
        <img src="https://dz3we2x72f7ol.cloudfront.net/expansions/prismatic-evolutions/pt-br/SV8pt5_PTBR_60-2x.png"/>
      </div>
    </div>
  </section>
</body>
</html>
