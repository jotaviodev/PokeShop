<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Charizard</title>
  <link rel="stylesheet" href="./cardExibicao.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet"/>
  <script>
    const url = new URL(window.location.href);
    const params = new URLSearchParams(url.search);
    const id = params.get('id');

    window.addEventListener('load', async ()=>{
      let divInfos = document.getElementsByClassName('infos')[0]
      let divfoto = document.getElementsByClassName('foto')[0]
      let dadosCard 
      let dados = await fetch(`http://127.0.0.1:5000/cards/${id}`)
                .then(response => {
                  if (!response.ok) {
                    throw new Error(response.status);
                  }
                  return response.json();
                }).then(data => {
                  dadosCard = data
      })
      divInfos.innerHTML = `
        <h1 class="titulo-carta">${dadosCard.nome}</h1>
        <h3>Coleção:</h3>
        <p>${dadosCard.colecao}</p>
        <h3>Raridade:</h3>
        <p>${dadosCard.raridade}</p>
        <h3>Tipo:</h3>
        <p>${dadosCard.tipo}</p>
        <h3>Valor estimado:</h3>
        <p>R$ ${dadosCard.valor}</p>
        <h3>Categoria:</h3>
        <p>${dadosCard.categoria}</p>
        <a href="../cardsPokemon.html" class="btn-voltar">Adicionar ao Carrinho</a>
      `
      divfoto.innerHTML = `
        <img src="${dadosCard.url_imagem}" alt="${dadosCard.nome}"/>
      `
    })
  </script>
</head>
<body>
  <section class="sessao">
    <div class="detalhes">
      <div class="foto">
      </div>
      <div class="infos" id="infos">
        <a href="../cardsPokemon.html" class="btn-voltar">Adicionar ao Carrinho</a>
      </div>
    </div>
  </section>
</body>
</html>